<ng-form name="ctrCtrl.containerTypeForm" id="{{::ctrCtrl.containerFormId}}">
    <div class="container-fluid">
        <cmp-error-summary form-ref="ctrCtrl.containerTypeForm"
                           form-preamble="{{'CONTAINER_TYPE_DETAILS'|translate}}&nbsp;{{ctrCtrl.recordIndex+1}}" exclusion-list=ctrCtrl.exclusions
                           name-suffix="ctrCtrl.containerTypeForm" set-heading-level="h3" form-id="ctrCtrl.containerFormId"
                           make-focused="ctrCtrl.focusSummary" alias-list="ctrCtrl.alias" show-errors="ctrCtrl.showSummary"
                           update-errors="ctrCtrl.updateSummary"></cmp-error-summary>

        <fieldset>
            <legend><span>{{'CONTAINER_TYPE_DETAILS'|translate}}&nbsp;{{ctrCtrl.recordIndex+1}}</span></legend>
            <div class="row">
                <div class="form-group col-md-12"
                     data-ng-class="{'has-error':ctrCtrl.containerTypeForm[ctrCtrl.containerTypeId].$invalid}">
                    <label for="{{::ctrCtrl.containerTypeId}}" class="required">
                        <span class="field-name">{{'CONTAINER_TYPE'|translate}}</span>
                        <strong class="required">{{'REQUIRED' |translate}}</strong>
                        <span title="{{::'EXPAND'|translate}} {{::'CONTAINER_INSTRUCT'|translate}}" class="btn rep-help-button-primary btn-xs"
                                id="container-instructions-toggle" data-ng-click="ctrCtrl.addInstruct(0)">
                            <span class="fa fa-question-circle fa-2x"></span>
                            <span class="wb-inv">{{::'CONTAINER_INSTRUCT'|translate}}</span>
                        </span>
                        <cmp-error-message field-name="ctrCtrl.containerTypeId"
                                           form-ref="ctrCtrl.containerTypeForm"
                                           show-error="ctrCtrl.showError(ctrCtrl.containerTypeForm[ctrCtrl.containerTypeId])"
                                           error-types="ctrCtrl.requiredOnly"></cmp-error-message>
                    </label>
                    <div class="row">
                        <div class="col-md-12">
                            <div uib-alert data-template-url="./app/lib/uib-templates/alert.html" data-ng-if="ctrCtrl.alerts[0]"
                                 class="alert-info" close="ctrCtrl.closeAlert(0)">
                                <section aria-live="assertive">
                                    <div data-ng-if="!ctrCtrl.isFrench()"
                                         ng-include="'app/scripts/templates/drugProduct/tpl-drugProduct-container-type-en.html'">
                                    </div>
                                    <div data-ng-if="ctrCtrl.isFrench()"
                                         ng-include="'app/scripts/templates/drug/tpl-drugProduct-container-type-fr.html'">
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                    <textarea id="{{::ctrCtrl.containerTypeId}}" data-ng-model="ctrCtrl.ctModel.containerType" maxlength="256" rows="3"
                              data-ng-model-options="{ debounce: $inherit}"
                              class="form-control full-width" name="{{::ctrCtrl.containerTypeId}}" required></textarea>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-12"
                     data-ng-class="{'has-error':ctrCtrl.containerTypeForm[ctrCtrl.packageSizeId].$invalid}">
                    <label for="{{::ctrCtrl.packageSizeId}}" class="required">
                        <span class="field-name">{{'PACKAGE_SIZE'|translate}}</span>
                        <strong class="required">{{'REQUIRED' |translate}}</strong>
                        <span title="{{::'EXPAND'|translate}} {{::'PACKAGE_SIZE_INSTRUCT'|translate}}" class="btn rep-help-button-primary btn-xs"
                                id="package-instructions-toggle" data-ng-click="ctrCtrl.addInstruct(1)">
                            <span class="fa fa-question-circle fa-2x"></span>
                            <span class="wb-inv">{{::'PACKAGE_SIZE_INSTRUCT'|translate}}</span>
                        </span>
                        <cmp-error-message field-name="ctrCtrl.packageSizeId"
                                           form-ref="ctrCtrl.containerTypeForm"
                                           show-error="ctrCtrl.showError(ctrCtrl.containerTypeForm[ctrCtrl.packageSizeId])"
                                           error-types="ctrCtrl.requiredOnly"></cmp-error-message>
                    </label>
                    <div class="row">
                        <div class="col-md-12">
                            <div uib-alert data-template-url="./app/lib/uib-templates/alert.html" data-ng-if="ctrCtrl.alerts[1]"
                                 class="alert-info" close="ctrCtrl.closeAlert(1)">
                                <section aria-live="assertive">
                                    <div data-ng-if="!ctrCtrl.isFrench()"
                                         ng-include="'app/scripts/templates/drugProduct/tpl-drugProduct-package-size-en.html'">
                                    </div>
                                    <div data-ng-if="ctrCtrl.isFrench()"
                                         ng-include="'app/scripts/templates/drug/tpl-drugProduct-package-size-fr.html'">
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                    <textarea id="{{::ctrCtrl.packageSizeId}}" data-ng-model="ctrCtrl.ctModel.packageSize" maxlength="256" rows="3"
                              data-ng-model-options="{ debounce: $inherit}"
                              class="form-control full-width" name="{{::ctrCtrl.packageSizeId}}" required></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 form-group">
                    <fieldset>
                        <legend><span>{{'SHELF_LIFE'| translate}}</span>
                            <button title="{{::'EXPAND'|translate}} {{::'SHELF_LIFE_INSTRUCT'|translate}}" class="btn rep-help-button-primary btn-xs"
                                    id="shelf-life-instructions-toggle" data-ng-click="ctrCtrl.addInstruct(2)">
                                <span class="fa fa-question-circle fa-2x"></span>
                                <span class="wb-inv">{{::'SHELF_LIFE_INSTRUCT'|translate}}</span>
                            </button>
                        </legend>
                        <div class="row col-md-12">
                            <div uib-alert data-template-url="./app/lib/uib-templates/alert.html" data-ng-if="ctrCtrl.alerts[2]"
                                 class="alert-info" close="ctrCtrl.closeAlert(2)">
                                <section aria-live="assertive">
                                    <div data-ng-if="!ctrCtrl.isFrench()"
                                         ng-include="'app/scripts/templates/drugProduct/tpl-drugProduct-shelf-life-en.html'">
                                    </div>
                                    <div data-ng-if="ctrCtrl.isFrench()"
                                         ng-include="'app/scripts/templates/drug/tpl-drugProduct-shelf-life-fr.html'">
                                    </div>
                                </section>
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="{{::ctrCtrl.shelfLifeNumberId}}">
                                <span class="field-name">{{'SHELF_LIFE_NUMBERS'|translate}}</span>
                            </label>
                            <cmp-error-message field-name="ctrCtrl.shelfLifeNumberId"
                                               form-ref="ctrCtrl.containerTypeForm"
                                               show-error="ctrCtrl.showError(ctrCtrl.containerTypeForm[ctrCtrl.shelfLifeNumberId])"
                                               error-types="ctrCtrl.numberError"></cmp-error-message>
                            <input type="number" id="{{::ctrCtrl.shelfLifeNumberId}}" data-ng-model="ctrCtrl.ctModel.shelfLifeNumber"
                                   data-ng-model-options="{ debounce: $inherit}" data-only-digits data-only-max="4"
                                   class="form-control " name="{{::ctrCtrl.shelfLifeNumberId}}" size="2"/>

                        </div>
                        <div class="form-group col-md-6">
                            <label for="{{::ctrCtrl.shelfLifeUnitId}}">
                                <span class="field-name">{{'UNIT'|translate}}</span>
                            </label>
                            <select id="{{::ctrCtrl.shelfLifeUnitId}}" data-ng-model="ctrCtrl.ctModel.shelfLifeUnit"
                                    data-ng-model-options="{ debounce: '$inherit'}"
                                    class="form-control full-width" name="{{::ctrCtrl.shelfLifeUnitId}}"
                                    data-ng-options="unit[ctrCtrl.lang] for unit in  ctrCtrl.selfLifeUnitsList track by unit.id">
                                <option value="" label=" " />
                            </select>
                        </div>
                    </fieldset>
                </div>
                <div class="col-md-6">
                    <fieldset>
                        <legend>{{'TEMP_RANGE'| translate}}</legend>
                        <div class="form-group col-md-6">
                            <label for="{{::ctrCtrl.tempMinId}}">
                                <span class="field-name">{{'MIN_TEMP'|translate}}</span>
                                <cmp-error-message field-name="ctrCtrl.tempMinId"
                                                   form-ref="ctrCtrl.containerTypeForm"
                                                   show-error="ctrCtrl.showError(ctrCtrl.containerTypeForm[ctrCtrl.tempMinId])"
                                                   error-types="ctrCtrl.numberInvalidMinMax"></cmp-error-message>
                                <input type="number" id="{{::ctrCtrl.tempMinId}}" data-ng-model="ctrCtrl.ctModel.tempMin"
                                       data-ng-model-options="{ debounce: $inherit}" data-only-digits="intNeg" data-only-max="4"
                                       size="4" min="-273" max="999" class="form-control" name="{{::ctrCtrl.tempMinId}}"/>

                            </label>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="{{::ctrCtrl.tempMaxId}}">
                                <span class="field-name">{{'MAX_TEMP'|translate}}</span>
                                <cmp-error-message field-name="ctrCtrl.tempMaxId"
                                                   form-ref="ctrCtrl.containerTypeForm"
                                                   show-error="ctrCtrl.showError(ctrCtrl.containerTypeForm[ctrCtrl.tempMaxId])"
                                                   error-types="ctrCtrl.numberInvalidMinMax"></cmp-error-message>
                                <input type="number" id="{{::ctrCtrl.tempMaxId}}" size="4" min="-273" max="999"
                                       data-ng-model="ctrCtrl.ctModel.tempMax" data-ng-model-options="{ debounce: $inherit}"
                                       data-only-digits="intNeg" data-only-max="4" class="form-control" name="{{::ctrCtrl.tempMaxId}}"/>

                            </label>
                        </div>
                    </fieldset>
                </div>
            </div>
        </fieldset>

        <div class="row">
            <div class="btn-group-sm col-xs-12">
                <button  class="btn btn-primary" name="saveContainer"
                         data-ng-click="ctrCtrl.save()">Save</button>
                <button data-ng-if="ctrCtrl.deleteBtn === true" class="btn btn-danger" name="deleteContainer"
                        data-ng-click="ctrCtrl.delete()">Delete</button>
                <button  class="btn btn-default" name="discardContainer"
                         data-ng-click="ctrCtrl.discardChanges()">Discard Changes</button>
            </div>
        </div>
    </div>
</ng-form>