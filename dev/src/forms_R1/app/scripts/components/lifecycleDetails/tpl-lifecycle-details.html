<div class="container-fluid">
    <ng-form name="lifecycleCtrl.lifecycleDetailsForm" novalidate="novalidate" id="{{::lifecycleCtrl.lifecycleDetailsFormId}}">
        <cmp-error-summary form-ref="lifecycleCtrl.lifecycleDetailsForm"
                           form-preamble="LIFE_REC"
                           name-suffix="lifecycleCtrl.lifecycleDetailsForm" set-heading-level="h3" form-id="lifecycleCtrl.lifecycleDetailsFormId"
                           make-focused="lifecycleCtrl.focusSummary" show-errors="lifecycleCtrl.showSummary"
                           update-errors="lifecycleCtrl.updateSummary"></cmp-error-summary>
        <div>
            <div>
                <fieldset>
                    <legend>{{::'LIFE_REC' | translate}}&nbsp;</legend>
                    <div class="row">
                        <!--
                        <div class="form-group col-md-3">
                            <label for="sequenceNumber_{{::$id}}">
                                <span class="field-name">{{"SEQUENCE_NUM" |translate}}</span>
                                <button title="{{::'EXPAND'|translate}} {{::'SEQUENCE_INSTRUCT'|translate}}"
                                        class="btn rep-help-button-primary btn-xs"
                                        id="sequenceNumber-instructions-toggle" data-ng-click="lifecycleCtrl.addInstruct(0)"><span
                                        class="fa fa-question-circle fa-2x"></span>
                                </button>
                                <input type="text" id="sequenceNumber_{{::$id}}" name="sequenceNumber_{{::$id}}"
                                       ng-model="lifecycleCtrl.lifecycleModel.sequence"
                                       class="form-control full-width" maxlength="8" size="8" ng-readonly="true"/>
                            </label>
                        </div>
                        <div class="form-group col-md-4"
                             ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.dateSubId].$invalid}">
                            <label for="{{::lifecycleCtrl.dateSubId}}" class="required">
                                <span class="field-name">{{::"DATE_SUBMITTED" |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <div class="input-group rep-input-group rep-margin-top-12">
                                    <input id="{{::lifecycleCtrl.dateSubId}}" type="text" class="form-control rep-normal-font"
                                           uib-datepicker-popup
                                           show-button-bar="false" datepicker-options="lifecycleCtrl.dateOptions"
                                           name="{{::lifecycleCtrl.dateSubId}}" ng-model="lifecycleCtrl.lifecycleModel.dateFiled"
                                           is-open="lifecycleCtrl.filedDateOpen" required/>
                                    <span class="input-group-btn">
                                            <button title="{{::'CALENDAR'|translate}}" class="btn btn-default"
                                                    aria-haspopup="true"
                                                    id="filed-picker-toggle"
                                                    data-ng-click="lifecycleCtrl.openFiledDate()"><span
                                                    class="glyphicon glyphicon-calendar"></span><span class="wb-inv">{{::'CALENDAR'|translate}}</span>
                                            </button>
                                      </span>
                                </div>
                                <cmp-error-message field-name="lifecycleCtrl.dateSubId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.dateSubId])"
                                                   error-types="lifecycleCtrl.dateFormatError"></cmp-error-message>
                            </label>
                        </div> -->

                        <div class="form-group col-md-7"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.controlNumId].$invalid}">
                            <label for="{{::lifecycleCtrl.controlNumId}}" class="required">
                                <span class="field-name">{{::"CONTROL_NUM" |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <span title="{{::'EXPAND'|translate}} {{::'CONTROL_INSTRUCT'|translate}}"
                                        class="btn rep-help-button-primary btn-xs"
                                        id="controlNum-instructions-toggle" data-ng-click="lifecycleCtrl.addInstruct(1)"><span
                                        class="fa fa-question-circle fa-2x"></span>
                                </span>
                                <cmp-error-message field-name="lifecycleCtrl.controlNumId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.controlNumId])"
                                                   error-types="lifecycleCtrl.minLength6Error"></cmp-error-message>
                                <input type="text" id="{{::lifecycleCtrl.controlNumId}}" name="{{::lifecycleCtrl.controlNumId}}" data-only-digits=""
                                       data-ng-model="lifecycleCtrl.lifecycleModel.controlNumber"
                                       class="form-control full-width" maxlength="6" minlength="6" size="6"
                                       required/>

                            </label>
                        </div>

                        <div class="form-group col-md-5"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.activityLeadId].$invalid}">
                            <div class="form-group">
                                <label for="{{::lifecycleCtrl.activityLeadId}}" class="required">
                                    <span class="field-name"> {{::'ACTIVITY_LEAD' |translate}}</span>
                                    <strong class="required"> {{::"REQUIRED" |translate}}</strong>
                                    <cmp-error-message field-name="lifecycleCtrl.activityLeadId"
                                                       form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                       show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.activityLeadId])"
                                                       error-types="lifecycleCtrl.requiredOnly"></cmp-error-message>
                                    <select class="form-control" id="{{::lifecycleCtrl.activityLeadId}}"
                                            data-ng-options="lead |translate for lead in lifecycleCtrl.leadList | orderByTranslated"
                                            name="{{::lifecycleCtrl.activityLeadId}}" data-ng-change="lifecycleCtrl.selectActivityList()"
                                            data-ng-model="lifecycleCtrl.lifecycleModel.activityLead" required>
                                        <option value="" label=" " data-ng-empty="lifecycleCtrl.lifecycleModel.activityLead" />
                                    </select>

                                </label>
                            </div>
                        </div>

                        <div class="row">
                            <!--
                            <div class="form-group col-md-12">
                                <cmp-alert ui-state="lifecycleCtrl.alerts[0]" msg="SEQUENCE_INSTRUCT"
                                           update-state="lifecycleCtrl.closeAlert(0)" type="alert-info">
                                    <section aria-live="assertive">
                                        <div ng-if="!lifecycleCtrl.isFrench()"
                                             ng-include="'app/scripts/templates/transaction/tpl-transaction-sequence-en.html'">
                                        </div>
                                        <div ng-if="lifecycleCtrl.isFrench()"
                                             ng-include="'app/scripts/templates/transaction/tpl-transaction-sequence-fr.html'">
                                        </div>
                                    </section>
                                </cmp-alert>
                            </div> -->
                            <div class="form-group col-md-12">
                                <cmp-alert ui-state="lifecycleCtrl.alerts[1]" msg="CONTROL_INSTRUCT"
                                           update-state="lifecycleCtrl.closeAlert(1)" type="alert-info">
                                    <section aria-live="assertive">
                                        <div data-ng-if="!lifecycleCtrl.isFrench()"
                                             ng-include="'app/scripts/templates/transaction/tpl-transaction-control-en.html'">
                                        </div>
                                        <div data-ng-if="lifecycleCtrl.isFrench()"
                                             ng-include="'app/scripts/templates/transaction/tpl-transaction-control-fr.html'">
                                        </div>
                                    </section>
                                </cmp-alert>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group  col-md-7"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.regActivityId].$invalid}">
                            <label for="{{::lifecycleCtrl.regActivityId}}" class="required">
                                <span class="field-name">{{::"REG_ACTIVITY_TYPE" |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <cmp-error-message field-name="lifecycleCtrl.regActivityId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.regActivityId])"
                                                   error-types="lifecycleCtrl.requiredOnly"></cmp-error-message>
                                <select id="{{::lifecycleCtrl.regActivityId}}" name="{{::lifecycleCtrl.regActivityId}}"
                                        data-ng-model="lifecycleCtrl.lifecycleModel.activityType"
                                        data-ng-change="lifecycleCtrl.setSequenceList()"
                                        class="form-control full-width" required
                                        data-ng-options="activity[lifecycleCtrl.lang] for activity in lifecycleCtrl.activityTypeList track by activity.id">
                                    <option value="" label=" " data-ng-empty="lifecycleCtrl.lifecycleModel.activityType" />
                                </select>

                            </label>
                        </div>
                        <div class="form-group col-md-5"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.seqDescriptId].$invalid}">
                            <label for="{{::lifecycleCtrl.seqDescriptId}}" class="required">
                                <span class="field-name">{{::"SEQUENCE_TYPE" |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <cmp-error-message field-name="lifecycleCtrl.seqDescriptId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.seqDescriptId])"
                                                   error-types="lifecycleCtrl.requiredOnly"></cmp-error-message>
                                <select id="{{::lifecycleCtrl.seqDescriptId}}" name="{{::lifecycleCtrl.seqDescriptId}}"
                                        data-ng-model="lifecycleCtrl.lifecycleModel.descriptionValue"
                                        data-ng-options="descript |translate for descript in  lifecycleCtrl.descriptionList| orderByTranslated"
                                        data-ng-change="lifecycleCtrl.setDetailsState()" required
                                        class="form-control full-width">
                                    <option label=" " value="" data-ng-empty="lifecycleCtrl.lifecycleModel.descriptionValue" /> 
                                </select>

                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.startDateId].$invalid}"
                             data-ng-show="lifecycleCtrl.startDateVisible">
                            <label for="{{::lifecycleCtrl.startDateId}}">
                                {{lifecycleCtrl.startDateLabel |translate}}
                                <span class="datepicker-format">(<abbr title="Four digits year, dash, two digits month, dash, two digits day">yyyy-mm-dd</abbr>)</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <cmp-error-message field-name="lifecycleCtrl.startDateId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.startDateId])"
                                                   error-types="lifecycleCtrl.dateFormatError"></cmp-error-message>
                            </label>
                                <!--  <span class="date-picker-format"></span>-->
                                <!--<div class="input-group rep-input-group">-->
                                    <input id="{{::lifecycleCtrl.startDateId}}" type="date" name="startDate" data-ng-model="lifecycleCtrl.lifecycleModel.startDate"
                                            class="form-control" required>
                                    <!--<input id="{{::lifecycleCtrl.startDateId}}" type="text" class="form-control rep-normal-font"-->
                                           <!--data-uib-datepicker-popup-->
                                           <!--data-show-button-bar="false" data-datepicker-options="lifecycleCtrl.dateOptions"-->
                                           <!--name="{{::lifecycleCtrl.startDateId}}" data-ng-model="lifecycleCtrl.lifecycleModel.startDate"-->
                                           <!--data-is-open="lifecycleCtrl.startDateOpen"-->
                                           <!--data-ng-required="lifecycleCtrl.startDateVisible"-->
                                           <!--data-ng-change="lifecycleCtrl.setConcatDetails()"/>-->
                                    <!--<span class="input-group-btn">-->
                                            <!--<button title="{{::'CALENDAR'|translate}}" class="btn btn-default"-->
                                                    <!--aria-haspopup="true" id="activity-picker-toggle"-->
                                                    <!--data-ng-click="lifecycleCtrl.openStartDate()"><span-->
                                                    <!--class="glyphicon glyphicon-calendar"></span><span class="wb-inv">{{::'CALENDAR'|translate}}</span>-->
                                            <!--</button>-->
                                      <!--</span>-->
                            <!--</div>-->
                            <div class="form-group">
                                <label for="startdate">Start date<span class="datepicker-format"> (<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span></label>
                                <input class="form-control" type="date" id="startdate" name="startdate" min="2013-03-27" max="2013-05-07" />
                            </div>
                        </div>
                        <div class="form-group col-md-4"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.endDateId].$invalid}"
                             data-ng-show="lifecycleCtrl.endDateVisible">
                            <label for="{{::lifecycleCtrl.endDateId}}" class="required">
                                <span class="field-name">{{::"END_DATE" |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <cmp-error-message field-name="lifecycleCtrl.endDateId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.endDateId])"
                                                   error-types="lifecycleCtrl.dateFormatError"></cmp-error-message>
                            </label>
                            <input id="{{::lifecycleCtrl.endDateId}}" type="date" name="endDate" data-ng-model="lifecycleCtrl.lifecycleModel.endDate"
                                   class="form-control" required>
                                <!--<div class="input-group rep-input-group">-->
                                    <!--<input id="{{::lifecycleCtrl.endDateId}}" type="text" class="form-control rep-normal-font"-->
                                           <!--data-uib-datepicker-popup-->
                                           <!--data-show-button-bar="false" data-datepicker-options="lifecycleCtrl.dateOptions"-->
                                           <!--name="{{::lifecycleCtrl.endDateId}}" data-ng-model="lifecycleCtrl.lifecycleModel.endDate"-->
                                           <!--data-is-open="lifecycleCtrl.endDateOpen"-->
                                           <!--data-ng-required="lifecycleCtrl.endDateVisible"-->
                                           <!--data-ng-change="lifecycleCtrl.setConcatDetails()"/>-->
                                    <!--<span class="input-group-btn">-->
                                            <!--<button title="{{::'CALENDAR'|translate}}" class="btn btn-default"-->
                                                    <!--aria-haspopup="true"-->
                                                    <!--id="dateEnd-picker-toggle"-->
                                                    <!--data-ng-click="lifecycleCtrl.openEndDate()"><span-->
                                                    <!--class="glyphicon glyphicon-calendar"></span><span class="wb-inv">{{::'CALENDAR'|translate}}</span>-->
                                            <!--</button>-->
                                      <!--</span>-->
                                <!--</div>-->

                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group col-md-4"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.yearId].$invalid}"
                             data-ng-show="lifecycleCtrl.yearVisible">
                            <label for="{{::lifecycleCtrl.yearId}}" class="required">
                                <span class="field-name">{{::"YEAR_CHANGE" |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <cmp-error-message field-name="lifecycleCtrl.yearId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.yearId])"
                                                   error-types="lifecycleCtrl.requiredOnly"></cmp-error-message>
                                <select name="{{::lifecycleCtrl.yearId}}" id="{{::lifecycleCtrl.yearId}}" data-ng-model="lifecycleCtrl.lifecycleModel.year"
                                        class="form-control" data-ng-required="lifecycleCtrl.yearVisible"
                                        data-ng-change="lifecycleCtrl.setConcatDetails()"
                                        data-ng-options=" val for val in lifecycleCtrl.yearList">
                                    <option label=" " value="" data-ng-empty="lifecycleCtrl.lifecycleModel.year" />
                                </select>

                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.descriptId].$invalid}"
                             data-ng-show="lifecycleCtrl.descriptionVisible">
                            <label for="{{::lifecycleCtrl.descriptId}}" class="required full-width">
                                <span class="field-name">{{lifecycleCtrl.descriptionLabel |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>

                                <cmp-error-message field-name="lifecycleCtrl.descriptId"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.descriptId])"
                                                   error-types="lifecycleCtrl.requiredOnly"></cmp-error-message>
                            </label>
                            <textarea id="{{::lifecycleCtrl.descriptId}}" name="{{::lifecycleCtrl.descriptId}}"
                                      data-ng-model="lifecycleCtrl.lifecycleModel.details"
                                      data-ng-change="lifecycleCtrl.setConcatDetails()" maxlength="200"
                                      data-ng-required="lifecycleCtrl.descriptionVisible"
                                      class="form-control full-width">
                                </textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4"
                             data-ng-class="{'has-error':lifecycleCtrl.lifecycleDetailsForm.version.$invalid}"
                             data-ng-if="lifecycleCtrl.versionVisible">
                            <label for="version_{{::$id}}" class="required">
                                <span class="field-name">{{::"VERSION_NO" |translate}}</span>
                                <strong class="required">{{::"REQUIRED" |translate}}</strong>
                                <cmp-error-message field-name="lifecycleCtrl.versionId" form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   form-ref="lifecycleCtrl.lifecycleDetailsForm"
                                                   show-error="lifecycleCtrl.showError(lifecycleCtrl.lifecycleDetailsForm[lifecycleCtrl.versionId])"
                                                   error-types="lifecycleCtrl.requiredOnly"></cmp-error-message>
                                <input type="text" id="version_{{::$id}}" name="version"
                                       data-ng-model="lifecycleCtrl.lifecycleModel.sequenceVersion"
                                       data-ng-change="lifecycleCtrl.setConcatDetails()"
                                       data-ng-required="lifecycleCtrl.versionVisible" class="form-control"/>

                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="btn-group-sm col-xs-12">
                            <button class="btn btn-primary"
                                    name="saveLifecycleRec_{{::$id}}"
                                    id="saveLifecycleRec_{{::$id}}"
                                    data-ng-click="lifecycleCtrl.updateLivecycleModel()"
                                    data-ng-disabled="lifecycleCtrl.setNotEditable()">{{::'SAVE_RECORD'| translate}}
                            </button>
                            <!--
                            <button class="btn btn-danger" data-ng-click="lifecycleCtrl.delete()">{{::'Delete Record'|translate}}
                            </button>
                            <button class="btn btn-default"
                                    data-ng-click="lifecycleCtrl.discardChanges()">{{::'DISCARD_CHANGES'| translate }}
                            </button> -->
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </ng-form>
    <!--<pre>lifecycle record model: {{lifecycleCtrl.lifecycleModel | json : spacing}}</pre>-->
</div>