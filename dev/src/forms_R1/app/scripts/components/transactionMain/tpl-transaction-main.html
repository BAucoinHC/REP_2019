<div>
    <ng-form  name="main.transactionEnrolForm" id="{{::main.formId}}" data-translate-cloak="cloak-class"
             novalidate>
        <section class="panel panel-primary mrgn-tp-lg">
            <header class="panel-heading clearfix">
                <h2 class="panel-title col-md-8">{{'LOAD_TRANSACTION'|translate}}</h2>
                <div class="btn-group pull-right">
                    <button title="{{::'EXPAND'|translate}} {{::'HELP_FILE_LOAD'|translate}}"
                            class="btn-xs rep-help-button"
                            id="startdate-picker-toggle" data-ng-click="main.addInstruct(0)">
                        <span class="fa fa-question-circle fa-2x"></span>
                        <span class="wb-inv">{{::'HELP_FILE_LOAD'|translate}}</span>
                    </button>
                </div>
            </header>
            <div class="panel-body">
                     <cmp-alert  ui-state="main.alerts[0]"
                                msg="HELP_FILE_LOAD"
                                update-state="main.closeAlert(0)"
                                type="alert-info">
                        <section aria-live="assertive">
                            <div data-ng-if="!main.isFrench()"
                                 ng-include="'app/scripts/templates/transaction/tpl-transaction-file-en.html'">
                            </div>
                            <div data-ng-if="main.isFrench()"
                                 ng-include="'app/scripts/templates/transaction/tpl-transaction-file-fr.html'">
                            </div>
                        </section>
                    </cmp-alert>
                <div class="col-md-12">
                    <hpfb-file-select update-model-root="main.showContent(fileContent)"
                                      root-elem="{{main.rootTag}}"></hpfb-file-select>
                </div>
            </div>
        </section>
        <div>
            <div>
                <cmp-error-summary form-ref="main.transactionEnrolForm"
                                   form-preamble="REG_TRANSACT" exclusion-list=main.exclusions
                                   name-suffix="main.transactionEnrolForm" set-heading-level="h2" form-id="main.formId"
                                   make-focused="main.focusSummary" alias-list="main.alias" show-errors="main.savePressed"
                                   update-errors="main.updateSummary"></cmp-error-summary>
            </div>
            <cmp-transaction-info transaction-root="main.transaction" show-error-summary="main.savePressed"
                                  deprecate-sequence="main.transactionService.deprecateSequenceNumber()"
                                  reset-ectd="main.transactionService.resetEctdSection()" language="main.lang"
                                  get-transaction="main.transactionService.getNewTransaction(main.transaction.isEctd==='Y')"
                                  get-rep-contact="main.transactionService.getNewRepContact()"
                                  get-fee="main.transactionService.createFeeDetails()"
                                  set-starting-sequence="main.setSequenceNumber(startVal)"
                                  sequence-updated="main.sequenceUpdated" update-error-summary="main.updateErrorSummaryState()"
                                  get-current-sequence="main.transactionService.getCurrentSequence()"
                                  get-rep-contact="main.transactionService.getNewRepContact()"
                                  is-final="main.isFinal"></cmp-transaction-info>
            <div class="row">
                <div class="form-group col-md-12">
                    <button class="btn btn-default btn-lg active mrgn-rght-sm" formnovalidate data-ng-click="main.saveJson()">
                        {{::'SAVE_WORKING'|translate}}
                    </button>
                    <button class="btn  btn-primary btn-lg active" formnovalidate id="btn_xmlSave"
                            data-ng-click="main.saveXML()">{{::'GENERATE_FINAL'|translate}}
                    </button>
                    <button title="{{::'EXPAND'|translate}} {{::'SAVE_INSTRUCT'|translate}}"
                            class="btn rep-help-button-primary btn-xs"
                            id="save-instructions-toggle" data-ng-click="main.addInstruct(1)">
                        <span class="fa fa-question-circle fa-2x"></span>
                        <span class="wb-inv">{{::'SAVE_INSTRUCT'|translate}}</span>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">

                <cmp-alert ui-state="main.alerts[1]" msg="SAVE_INSTRUCT" update-state="main.closeAlert(1)"
                           type="alert-info">
                    <section aria-live="assertive">
                        <div data-ng-if="!main.isFrench()"
                             ng-include="'app/scripts/templates/transaction/tpl-transaction-save-en.html'">
                        </div>
                        <div data-ng-if="main.isFrench()"
                             ng-include="'app/scripts/templates/transaction/tpl-transaction-save-fr.html'">
                        </div>
                    </section>
                </cmp-alert>
            </div>
        </div>
    </ng-form>
    <!--<pre>{{main.transaction|json}}</pre>-->
</div>